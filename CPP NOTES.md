# CPP NOTES

## g++

å¯¹äºå¤šæ–‡ä»¶ï¼ˆä¾‹å¦‚ `a.cpp` å’Œ `b.cpp`ï¼Œä»¥åŠå¤´æ–‡ä»¶ `.h`ï¼‰çš„ C++ é¡¹ç›®ï¼Œä½ å¯ä»¥ä½¿ç”¨ `g++` æ¥ç¼–è¯‘å’Œé“¾æ¥æ‰€æœ‰æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´ä¸ºé«˜æ•ˆã€è‡ªåŠ¨åŒ–çš„å·¥å…·å¦‚ CMake æ¥ç®¡ç†ç¼–è¯‘è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯åœ¨é¡¹ç›®å¤æ‚ã€æ–‡ä»¶è¾ƒå¤šçš„æƒ…å†µä¸‹ã€‚ä¸‹é¢å°†ä»‹ç»ä¸¤ç§æ–¹æ³•ã€‚



### æ–¹æ³•1ï¼šä½¿ç”¨ `g++` ç¼–è¯‘å’Œé“¾æ¥



1. é€æ­¥ç¼–è¯‘å¹¶é“¾æ¥
   - é¦–å…ˆï¼Œå°†æ¯ä¸ªæºæ–‡ä»¶ç¼–è¯‘æˆå¯¹è±¡æ–‡ä»¶ï¼ˆä½¿ç”¨ `-c` é€‰é¡¹ï¼‰ã€‚
   - ç„¶åï¼Œå°†è¿™äº›å¯¹è±¡æ–‡ä»¶é“¾æ¥æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚

```
g++ -c a.cpp -o a.o 
g++ -c b.cpp -o b.o 
g++ a.o b.o -o my_program 
```

- ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥å°† `a.cpp` å’Œ `b.cpp` ç¼–è¯‘ä¸ºç›®æ ‡æ–‡ä»¶ `a.o` å’Œ `b.o`ã€‚
- ç¬¬ä¸‰æ­¥å°†ä¸¤ä¸ªç›®æ ‡æ–‡ä»¶é“¾æ¥æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ `my_program`ã€‚



1. ä¸€æ­¥ç¼–è¯‘å¹¶é“¾æ¥ï¼š
   - ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­ç›´æ¥ç¼–è¯‘å¹¶é“¾æ¥å¤šä¸ªæºæ–‡ä»¶ã€‚

```
bashg++ a.cpp b.cpp -o my_program 
```

è¿™ç§æ–¹æ³•é€‚åˆæ–‡ä»¶æ•°é‡è¾ƒå°‘æ—¶ä½¿ç”¨ï¼Œä½†å¦‚æœé¡¹ç›®å¤æ‚ã€æ–‡ä»¶è¾ƒå¤šæ—¶ï¼Œä½¿ç”¨æ‰‹åŠ¨æ–¹å¼å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚

æ³¨æ„-oæ˜¯åœ¨.cppæ–‡ä»¶åé¢ã€‚



### g++ debug =>gdb

å¦‚æœæ²¡æœ‰æˆç†Ÿçš„IDEï¼Œæœ€åº•å±‚çš„debugæ–¹å¼æ˜¯é€šè¿‡gdbæ’ä»¶

é¦–å…ˆé€šè¿‡cppæ–‡ä»¶ç”Ÿæˆ å¯debugæ–‡ä»¶

```
g++ -g -o debug_program demo.cpp 
```

ç„¶åè¿è¡Œä¸‹é¢ğŸ‘‡å‘½ä»¤å°±å¯ä»¥å¼€å§‹debug äº†ï¼ˆå¾—å®‰è£…gdbå‘½ä»¤

```
gbd debug_program
```





## Array

æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°çš„æ—¶å€™ï¼Œå®é™…ä¼ å…¥çš„æ˜¯æ•°ç»„çš„åœ°å€ï¼Œä¹Ÿå³ç¬¬ä¸€å…ƒç´ çš„åœ°å€ï¼›ï¼ˆå·²ç»è¯æ˜ï¼‰





## Makefile

[ä¸€ä¸ªå¾ˆå…¨é¢çš„æ•™ç¨‹](https://seisman.github.io/how-to-write-makefile/introduction.html#id1)





## æŒ‡é’ˆ*å¼•ç”¨&

é¦–å…ˆæŒ‡é’ˆä¹Ÿç®—æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼ŒåŒ int, float ä¸€æ ·ï¼Œå› æ­¤åœ¨å£°æ˜ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„çš„æ—¶å€™ï¼Œå’Œå£°æ˜å…¶ä»–ç±»å‹ä¸€æ ·å°±å¥½äº†ï¼Œä½†æ˜¯èµ‹å€¼éœ€è¦èµ‹ä¸€ä¸ªæŒ‡é’ˆï¼ˆå¦‚æœç›´æ¥ç»™ä¸€ä¸ªå˜é‡ä¼šæ€ä¹ˆæ ·å‘¢ =ã€‹ ä¼šæŠ¥é”™ï¼ï¼‰

```c++
int a = 10;
int *b = &a; // &å¯ä»¥å–å¯¹è±¡çš„åœ°å€, è¿™ä¸ªæ—¶å€™bæ˜¯ä¸€ä¸ªåœ°å€
int c = *b; // *å¯ä»¥æŠŠåœ°å€è½¬ä¸ºå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´&æ˜¯ä»å¯¹è±¡åˆ°åœ°å€ï¼Œè€Œ*å°±æ˜¯æŠŠåœ°å€åˆ°å¯¹è±¡
```

* const pointer

  ```
  \\ å¦‚æœconstå†™åœ¨æœ€å‰é¢ï¼Œ ä¸èƒ½ç›´æ¥é€šè¿‡æŒ‡é’ˆæ”¹å˜å¯¹è±¡çš„å€¼ï¼Œç›¸å½“äºåºŸäº†æŒ‡é’ˆ
  const int *p2 = &num;
  *p2 = 3; // error
  num = 3; ï¼ï¼ it's ok
  
  \\ å¦‚æœconstå†™åœ¨ p2 å‰é¢ï¼ŒæŒ‡é’ˆä¸èƒ½æ”¹å˜ï¼Œè¿™æ‰æ˜¯çœŸå¸¸æŒ‡é’ˆ
  int * const p2 = &num;
  
  
  ```

* pointer and array

  **æ•°ç»„çš„æŒ‡é’ˆç­‰äºå®ƒè‡ªå·±ï¼Œç­‰äºå®ƒç¬¬ä¸€ä¸ªæ•°ç»„**

  ```cpp
  int num[5];
  num == &num == num[0];
  
      int arr[5] = {1,2,3,4,5};
      printf("the address by direct: %p\n", arr);
      printf("the address by & =  %p/n", &arr); // ä¸¤ä¸ªç»“æœåº”è¯¥ä¸€æ ·
      printf("&arr[0] = %p/n", &arr[0]); // å¦‚æœæ•°ç»„çš„åœ°å€å°±æ˜¯æœ¬ä½“ï¼Œé‚£ä¹ˆè¿™é‡Œåº”è¯¥æ˜¯1
  
      int * adr2 = arr;
      adr2[3] = 6;
      printf("if changed: %d/n", arr[3]);
  ```

* malloc å’Œ newçš„åŒºåˆ«ï¼ˆå›å»å†æ€»ç»“ï¼‰

* å½“å‡½æ•°çš„inputä¸ºæ•°ç»„æ—¶

